//javascript:
!function(){function e(){$("<style type='text/css'> \n			.coc_marker{\n				-webkit-touch-callout: none;\n				-webkit-user-select: none;\n				-khtml-user-select: none;\n				-moz-user-select: none;\n				-ms-user-select: none;\n				user-select: none;\n			}\n			.coc_marker.ui_container{\n				position:fixed;\n				top:0; "+d.sidebarPosition+":0;\n				background-color:#333;\n				max-height:100%;\n				overflow:auto;\n			}\n			.coc_marker.ui_hidden{\n				display:none;\n			}\n			.coc_marker.ui_sidebar{\n				margin-bottom:"+d.sidebarSize+"px;\n				/*margin-right:30px;*/\n			}\n			.coc_marker.ui_sidebar_tower{\n				width:"+d.sidebarSize+"px;\n				height:"+d.sidebarSize+"px;\n				box-sizing:border-box;\n				background-size:100%;\n			}\n			.coc_marker.ui_sidebar_show_button,\n			.coc_marker.ui_sidebar_hide_button{\n				color:white;\n			}\n			.coc_marker.ui_control a{\n				color:white;\n			}\n			.coc_marker.ui_control a:hover{\n				text-decoration:underline;\n			}\n			.coc_marker.object_highlight{\n				box-shadow:inset 0px 0px 8pt 3pt #ff0;\n			}\n			.coc_marker.object_over_highlight{\n				box-shadow:inset 0px 0px 8pt 3pt #fff;\n			}\n			.coc_marker.ui_highlight{\n				box-shadow:inset 0px 0px 8pt 3pt #ff0;\n			}\n			.coc_marker.ui_over_highlight{\n				box-shadow:inset 0px 0px 8pt 3pt #fff;\n			}\n\n		</style>").appendTo("head")}function r(){$(".object").mouseenter(function(e){a(e.target)}).mouseleave(function(e){n(e.target)}).click(function(e){o(e.target)})}function a(e){if(!$(e).find(".coc_marker.range_marker").length&&(document.coc_marker_enabled||(d.showRange=!1),d.showRange)){var r=e.id.split("-")[0];if(d.towers.hasOwnProperty(r)){for(var a,n,o=d.towers[r].ranges,s=d.towers[r].size,c=0;c<o.length;++c)isNaN(o[c])?(a=20*o[c].radius,n=o[c].color):(a=20*o[c],n="white"),i({parent:e,size:s,r:a,color:n}),$(e).css("z-index",d.zz),d.zz++;t(e)}}}function n(e){var r=$(e).data();r.hasOwnProperty("showMarker")&&r.showMarker||($(e).find(".coc_marker.range_marker").remove(),$(e).find(".coc_marker.tower_icon").remove())}function o(e){var r=$(e).data();r.showMarker?(r.showMarker=0,$(e).find(".tower_icon").add(e).removeClass("object_highlight")):(r.showMarker=1,$(e).find(".tower_icon").add(e).addClass("object_highlight"))}function i(e){var r={parent:null,size:3,r:10,opacity:.3,color:"#FFFFFF"};s(e,r),$(e.parent).append("<div class='coc_marker range_marker' style='pointer-events:none;position:absolute;display:block;width: "+2*e.r+"px;height: "+2*e.r+"px;margin-left: "+(-1*e.r+10*e.size)+"px;margin-top: "+(-1*e.r+10*e.size)+"px;-mozborder-radius: "+e.r+"px;-webkit-border-radius: "+e.r+"px;border-radius: "+e.r+"px;opacity:"+e.opacity+";background-color:"+e.color+"; '></div> ")}function t(e){$(e).append("<div class='coc_marker tower_icon' style='position:absolute;display:block;width: "+$(e).css("width")+";height: "+$(e).css("height")+";left: 0;top: 0;pointer-events:none;background-image: "+$(e).css("backgroundImage")+"; '></div> ")}function s(e,r){for(var a in r)e.hasOwnProperty(a)||(e[a]=r[a])}function c(){function e(){function e(){var e=d.towers;$(".object").each(function(){var r=this.id.split("-")[0];e.hasOwnProperty(r)&&(e[r].bg=$(this).css("backgroundImage"))})}function r(e){var r=$(e).data().tower;r.show=0,$(e).removeClass("ui_highlight"),$(".object").each(function(){var e=this.id.split("-")[0];e==r.index&&($(this).data().showMarker=0,n(this))})}function o(e){var r=$(e).data().tower;r.show=1,$(e).addClass("ui_highlight"),$(".object").each(function(){var e=this.id.split("-")[0];e==r.index&&($(this).data().showMarker=1,a(this))})}function i(e){var r=$(e).data().tower;$(".object").each(function(){var e=this.id.split("-")[0];e==r.index&&$(this).addClass("coc_marker object_over_highlight")})}function t(e){var r=$(e).data().tower;$(".object").each(function(){var e=this.id.split("-")[0];e==r.index&&$(this).removeClass("coc_marker object_over_highlight")})}e();var s,c=d.towers,u=$("<div>",{"class":"coc_marker ui_sidebar_towers_container"});for(var _ in c)s=$("<div>",{"class":"coc_marker ui_sidebar_tower"}).css("background-image",c[_].bg),c[_].show=0,c[_].index=_,s.data().tower=c[_],s.mousedown(function(e){$(e.target).data().tower.show?r(e.target):o(e.target),h.sidebarDrag=$(e.target).data().tower.show?"show":"hide"}).mouseenter(function(e){"show"==h.sidebarDrag?o(e.target):"hide"==h.sidebarDrag?r(e.target):"none"==h.sidebarDrag&&($(e.target).addClass("ui_over_highlight"),i(e.target))}).mouseleave(function(e){$(e.target).removeClass("ui_over_highlight"),t(e.target)}).mouseup(function(){h.sidebarDrag="none"}),$(window).mouseup(function(){h.sidebarDrag="none"}),u.append(s);return u}var r=$("<div>",{"class":"coc_marker ui_container"}),o=$("<div>",{"class":"coc_marker ui_sidebar_show_button ui_hidden"});o.html("show").click(function(){$(".ui_sidebar").show(),$(".ui_sidebar_show_button").hide()}),r.append(o);var i=$("<div>",{"class":"coc_marker ui_sidebar"}),t=$("<div>",{"class":"coc_marker ui_sidebar_hide_button"});t.html("hide").click(function(){$(".ui_sidebar_show_button").show(),$(".ui_sidebar").hide()}),i.append(t);var s=e();i.append(s);var c=$("<div>",{"class":"coc_marker ui_control"});c.html("\n			<a href='javascript:void(0)'>Reverse</a><br>\n			<a href='javascript:void(0)'>Disable</a><br>\n			<a href='javascript:void(0)'>Config</a><br>\n			<a href='javascript:void(0)'>Remove</a><br>\n		"),i.append(c),r.append(i),$("body").append(r)}var d={zz:1e4,showRange:1,sidebarSize:36,sidebarPosition:"right",towers:{158:{name:"cannon",size:3,ranges:[9]},159:{name:"archertower",size:3,ranges:[10]},161:{name:"airdefense",size:3,ranges:[10]},162:{name:"wizardtower",size:3,ranges:[7]},163:{name:"tesla",size:2,ranges:[7]},165:{name:"inferno_tower",size:2,ranges:[9]},188:{name:"clancastle",size:3,ranges:[12]},164:{name:"xbow",size:3,ranges:[{radius:11,color:"DeepSkyBlue"},{radius:14,color:"white"}]},160:{name:"mortar",size:3,ranges:[{radius:11,color:"white"},{radius:4,color:"red"}]},185:{name:"king",size:3,ranges:[9]},186:{name:"queen",size:3,ranges:[10]},170:{name:"giant_bomb_lv3",size:2,ranges:[{radius:2,color:"white"},{radius:3.5,color:"red"}]},168:{name:"bomb",size:1,ranges:[{radius:1.5,color:"white"},{radius:3,color:"red"}]},172:{name:"seeking_air_mine",size:1,ranges:[4]},171:{name:"air_bomb",size:1,ranges:[5]}}},h={sidebarDrag:"none"};document.hasOwnProperty("coc_marker_enabled")?(document.coc_marker_enabled=!document.coc_marker_enabled,alert("marker is "+(document.coc_marker_enabled?"en":"dis")+"abled")):(document.coc_marker_enabled=!0,e(),c(),r(),alert("marker added"))}();
